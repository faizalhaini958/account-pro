import{r as h,j as e,H as R,a as S}from"./app-De9YtYVO.js";import{D as k}from"./DashboardLayout-DB0kk3mn.js";import{C as r,a as t,b as m,d as l,c}from"./card-B1noy23o.js";import{B as w}from"./index-sqIKGjOx.js";import{I as g}from"./input-YJ4y34zb.js";import{L as F}from"./label-BNYjQoyA.js";import{C as H}from"./checkbox-DSt0QHsS.js";import{T as M,a as E,b as N,c as a,d as I,e as i}from"./table-3xAxy9mO.js";import{C as L}from"./circle-check-DHnGCJry.js";import{C as Y}from"./circle-x-Tpw7YRGA.js";import"./toaster-CljvMPLZ.js";import"./Combination-Dy-FKPUP.js";import"./useTranslation-CmIvGiqX.js";import"./dropdown-menu-BBgrL1DT.js";import"./index-DEhQiHRI.js";import"./x-D7kv7_oa.js";import"./dialog-B_EPHwqc.js";import"./plus-DIUrj948.js";import"./file-text-D4ZH2B6r.js";import"./building-2-B8zwlaZI.js";import"./users-Cw2EaZtR.js";import"./package-DX_4eLNa.js";import"./LanguageSwitcher-JaZwuRsp.js";import"./globe-BnAvlmAt.js";import"./ThemeToggle-IPjgC8LT.js";import"./circle-alert-nT1vmDMj.js";import"./index-CENxNQLL.js";function he({bankAccount:o,transactions:j,bookBalance:p,upToDate:C}){const[u,B]=h.useState([]),[f,T]=h.useState(""),[b,y]=h.useState(C),v=s=>{B(d=>d.includes(s)?d.filter(_=>_!==s):[...d,s])};j.filter(s=>u.includes(s.id)).reduce((s,d)=>s+d.amount,0);const x=parseFloat(f||"0")-p,n=s=>new Intl.NumberFormat("en-MY",{style:"currency",currency:"MYR"}).format(s),D=()=>{S.get(route("accounting.bank-accounts.reconciliation",o.id),{up_to_date:b})};return e.jsxs(k,{header:"Bank Reconciliation",children:[e.jsx(R,{title:"Bank Reconciliation"}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx(r,{children:e.jsxs(t,{children:[e.jsx(m,{children:o.name}),e.jsxs(l,{children:[o.bank_name," - ",o.account_number]})]})}),e.jsxs(r,{children:[e.jsx(t,{children:e.jsx(m,{children:"Reconciliation Period"})}),e.jsx(c,{children:e.jsxs("div",{className:"flex gap-4 items-end",children:[e.jsxs("div",{children:[e.jsx(F,{htmlFor:"up_to_date",children:"Up to Date"}),e.jsx(g,{id:"up_to_date",type:"date",value:b,onChange:s=>y(s.target.value)})]}),e.jsx(w,{onClick:D,children:"Apply"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(r,{children:[e.jsx(t,{className:"pb-2",children:e.jsx(l,{children:"Book Balance"})}),e.jsx(c,{children:e.jsx("div",{className:"text-2xl font-bold",children:n(p)})})]}),e.jsxs(r,{children:[e.jsx(t,{className:"pb-2",children:e.jsx(l,{children:"Statement Balance"})}),e.jsx(c,{children:e.jsx(g,{type:"number",step:"0.01",value:f,onChange:s=>T(s.target.value),placeholder:"Enter balance"})})]}),e.jsxs(r,{children:[e.jsx(t,{className:"pb-2",children:e.jsx(l,{children:"Difference"})}),e.jsx(c,{children:e.jsx("div",{className:`text-2xl font-bold ${Math.abs(x)<.01?"text-green-600":"text-red-600"}`,children:n(x)})})]}),e.jsxs(r,{children:[e.jsx(t,{className:"pb-2",children:e.jsx(l,{children:"Status"})}),e.jsx(c,{children:Math.abs(x)<.01?e.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[e.jsx(L,{className:"h-6 w-6"}),e.jsx("span",{className:"font-semibold",children:"Balanced"})]}):e.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[e.jsx(Y,{className:"h-6 w-6"}),e.jsx("span",{className:"font-semibold",children:"Not Balanced"})]})})]})]}),e.jsxs(r,{children:[e.jsxs(t,{children:[e.jsx(m,{children:"Transactions"}),e.jsx(l,{children:"Select transactions that appear on your bank statement"})]}),e.jsx(c,{children:e.jsxs(M,{children:[e.jsx(E,{children:e.jsxs(N,{children:[e.jsx(a,{className:"w-12"}),e.jsx(a,{children:"Date"}),e.jsx(a,{children:"Reference"}),e.jsx(a,{children:"Description"}),e.jsx(a,{className:"text-right",children:"Debit"}),e.jsx(a,{className:"text-right",children:"Credit"}),e.jsx(a,{className:"text-right",children:"Balance"})]})}),e.jsx(I,{children:j.map(s=>e.jsxs(N,{children:[e.jsx(i,{children:e.jsx(H,{checked:u.includes(s.id),onCheckedChange:()=>v(s.id)})}),e.jsx(i,{children:s.date}),e.jsx(i,{children:s.reference}),e.jsx(i,{children:s.description}),e.jsx(i,{className:"text-right",children:s.debit>0?n(s.debit):"-"}),e.jsx(i,{className:"text-right",children:s.credit>0?n(s.credit):"-"}),e.jsx(i,{className:"text-right",children:n(s.balance)})]},s.id))})]})})]})]})]})}export{he as default};
