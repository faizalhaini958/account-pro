import{j as e,H as h,L as j}from"./app-De9YtYVO.js";import{D as p}from"./DashboardLayout-DB0kk3mn.js";import{B as u}from"./index-sqIKGjOx.js";import{C as i,a as c,b as d,c as l,d as f}from"./card-B1noy23o.js";import{f as m}from"./format-D9s8ZFBe.js";import{S as N}from"./toaster-CljvMPLZ.js";import{T as b,a as y,b as o,c as t,d as g,e as n}from"./table-3xAxy9mO.js";import{u as v}from"./useTranslation-CmIvGiqX.js";import{A as w}from"./arrow-left-BQixkFZB.js";import{f as x}from"./format-BS8Ay9AX.js";import"./Combination-Dy-FKPUP.js";import"./dropdown-menu-BBgrL1DT.js";import"./dialog-B_EPHwqc.js";import"./index-DEhQiHRI.js";import"./x-D7kv7_oa.js";import"./input-YJ4y34zb.js";import"./label-BNYjQoyA.js";import"./plus-DIUrj948.js";import"./file-text-D4ZH2B6r.js";import"./building-2-B8zwlaZI.js";import"./users-Cw2EaZtR.js";import"./package-DX_4eLNa.js";import"./LanguageSwitcher-JaZwuRsp.js";import"./globe-BnAvlmAt.js";import"./ThemeToggle-IPjgC8LT.js";import"./circle-alert-nT1vmDMj.js";function W({receipt:a}){const{t:s}=v();return e.jsxs(p,{header:`${s("receipts.single")} ${a.reference_number}`,children:[e.jsx(h,{title:`${s("receipts.single")} ${a.reference_number}`}),e.jsxs("div",{className:"max-w-4xl mx-auto py-6 space-y-6",children:[e.jsx("div",{className:"flex items-center space-x-2 mb-4",children:e.jsx(u,{variant:"ghost",asChild:!0,children:e.jsxs(j,{href:route("sales.receipts.index"),children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),s("common.back")]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(i,{children:[e.jsx(c,{children:e.jsx(d,{children:s("receipts.info")})}),e.jsxs(l,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:s("receipts.reference")}),e.jsx("span",{className:"font-medium",children:a.reference_number})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:s("sales.date")}),e.jsx("span",{children:x(new Date(a.date),"dd/MM/yyyy")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:s("sales.customer")}),e.jsx("span",{className:"font-medium",children:a.customer?.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:s("receipts.paymentMethod")}),e.jsx("span",{children:a.payment_method})]}),e.jsx(N,{}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:s("receipts.amountReceived")}),e.jsx("span",{className:"font-bold text-lg",children:m(parseFloat(a.amount))})]})]})]}),e.jsxs(i,{children:[e.jsx(c,{children:e.jsx(d,{children:s("receipts.bankAndNotes")})}),e.jsxs(l,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:s("receipts.account")}),e.jsxs("span",{children:[a.bank_account?.bank_name," - ",a.bank_account?.name]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-muted-foreground text-sm",children:s("quotations.notes")}),e.jsx("p",{className:"text-sm bg-muted p-3 rounded-md min-h-[80px]",children:a.notes||s("common.noNotes")})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-muted-foreground text-sm",children:s("common.createdBy")}),e.jsx("p",{className:"text-sm",children:a.creator?.name||s("common.system")})]})]})]})]}),e.jsxs(i,{children:[e.jsxs(c,{children:[e.jsx(d,{children:s("receipts.allocatedInvoices")}),e.jsx(f,{children:s("receipts.allocationDesc")})]}),e.jsx(l,{children:a.allocations.length===0?e.jsx("p",{className:"text-muted-foreground py-4 text-center",children:s("receipts.unallocatedPayment")}):e.jsxs(b,{children:[e.jsx(y,{children:e.jsxs(o,{children:[e.jsx(t,{children:s("invoices.number")}),e.jsx(t,{children:s("sales.date")}),e.jsx(t,{className:"text-right",children:s("invoices.total")}),e.jsx(t,{className:"text-right",children:s("receipts.allocatedAmount")})]})}),e.jsx(g,{children:a.allocations.map(r=>e.jsxs(o,{children:[e.jsx(n,{className:"font-medium",children:r.invoice?.reference_number}),e.jsx(n,{children:r.invoice?x(new Date(r.invoice.date),"dd/MM/yyyy"):"-"}),e.jsx(n,{className:"text-right",children:r.invoice?m(parseFloat(r.invoice.total)):"-"}),e.jsx(n,{className:"text-right font-bold",children:m(parseFloat(r.amount))})]},r.id))})]})})]})]})]})}export{W as default};
