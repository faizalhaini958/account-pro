import{r as y,u as T,j as e,H as w,L as C,a as S}from"./app-De9YtYVO.js";import{D as _}from"./DashboardLayout-DB0kk3mn.js";import{B as d}from"./index-sqIKGjOx.js";import{T as I,a as P,b as m,c as i,d as B,e as l}from"./table-3xAxy9mO.js";import{B as h}from"./badge-C9h6T3rK.js";import{D as H,a as L,b as E,c as p}from"./dropdown-menu-BBgrL1DT.js";import{D as F,a as M,b as O,c as R,d as k,e as q}from"./dialog-B_EPHwqc.js";import{I as u}from"./input-YJ4y34zb.js";import{L as c}from"./label-BNYjQoyA.js";import{S as U,a as V,b as A,c as z,d as G}from"./select-B2rqhBdx.js";import{u as J}from"./useTranslation-CmIvGiqX.js";import{P as K}from"./plus-DIUrj948.js";import{E as Q}from"./ellipsis-yQlqSxW1.js";import{P as W}from"./pencil-DxiAzbLY.js";import{T as X}from"./trash-2-Dreerc3R.js";import"./toaster-CljvMPLZ.js";import"./Combination-Dy-FKPUP.js";import"./index-DEhQiHRI.js";import"./x-D7kv7_oa.js";import"./file-text-D4ZH2B6r.js";import"./building-2-B8zwlaZI.js";import"./users-Cw2EaZtR.js";import"./package-DX_4eLNa.js";import"./LanguageSwitcher-JaZwuRsp.js";import"./globe-BnAvlmAt.js";import"./ThemeToggle-IPjgC8LT.js";import"./circle-alert-nT1vmDMj.js";import"./index-CENxNQLL.js";function we({users:o,roles:j}){const{t:s}=J(),[f,x]=y.useState(!1),{data:t,setData:n,post:g,processing:N,errors:r,reset:v}=T({name:"",email:"",role_id:""}),D=a=>{a.preventDefault(),g(route("master.users.store"),{onSuccess:()=>{x(!1),v()}})},b=a=>{confirm(s("users.removeConfirm"))&&S.delete(route("master.users.destroy",a))};return e.jsxs(_,{header:s("users.title"),children:[e.jsx(w,{title:s("users.title")}),e.jsxs("div",{className:"flex-1 space-y-4 p-8 pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between space-y-2",children:[e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:s("users.companyUsers")}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs(F,{open:f,onOpenChange:x,children:[e.jsx(M,{asChild:!0,children:e.jsxs(d,{children:[e.jsx(K,{className:"mr-2 h-4 w-4"}),s("users.add")]})}),e.jsxs(O,{className:"sm:max-w-[425px]",children:[e.jsxs(R,{children:[e.jsx(k,{children:s("users.addTitle")}),e.jsx(q,{children:s("users.addDesc")})]}),e.jsxs("form",{onSubmit:D,className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"name",children:s("users.name")}),e.jsx(u,{id:"name",placeholder:s("users.namePlaceholder"),value:t.name,onChange:a=>n("name",a.target.value),required:!0}),r.name&&e.jsx("span",{className:"text-sm text-red-500",children:r.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"email",children:s("users.email")}),e.jsx(u,{id:"email",type:"email",placeholder:s("users.emailPlaceholder"),value:t.email,onChange:a=>n("email",a.target.value),required:!0}),r.email&&e.jsx("span",{className:"text-sm text-red-500",children:r.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"role",children:s("users.role")}),e.jsxs(U,{onValueChange:a=>n("role_id",a),value:t.role_id,children:[e.jsx(V,{children:e.jsx(A,{placeholder:s("users.selectRole")})}),e.jsx(z,{children:j.map(a=>e.jsx(G,{value:a.id.toString(),children:a.name},a.id))})]}),r.role_id&&e.jsx("span",{className:"text-sm text-red-500",children:r.role_id})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx(d,{type:"submit",disabled:N,className:"w-full sm:w-auto",children:s("users.add")})})]})]})]})})]}),e.jsx("div",{className:"hidden h-full flex-1 flex-col space-y-8 md:flex",children:e.jsxs(I,{children:[e.jsx(P,{children:e.jsxs(m,{children:[e.jsx(i,{children:s("users.name")}),e.jsx(i,{children:s("users.email")}),e.jsx(i,{children:s("users.role")}),e.jsx(i,{children:s("users.status")}),e.jsx(i,{className:"text-right",children:s("master.actions")})]})}),e.jsxs(B,{children:[o.map(a=>e.jsxs(m,{children:[e.jsx(l,{className:"font-medium",children:a.name}),e.jsx(l,{children:a.email}),e.jsx(l,{children:e.jsx(h,{variant:"outline",children:a.role_name})}),e.jsx(l,{children:e.jsx(h,{variant:a.is_active?"default":"destructive",children:a.is_active?s("master.isActive"):s("master.inactive")})}),e.jsx(l,{className:"text-right",children:e.jsxs(H,{children:[e.jsx(L,{asChild:!0,children:e.jsxs(d,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(Q,{className:"h-4 w-4"})]})}),e.jsxs(E,{align:"end",children:[e.jsx(p,{asChild:!0,children:e.jsxs(C,{href:route("master.users.edit",a.id),children:[e.jsx(W,{className:"mr-2 h-4 w-4"})," ",s("users.editRole")]})}),e.jsxs(p,{onClick:()=>b(a.id),className:"text-red-600",children:[e.jsx(X,{className:"mr-2 h-4 w-4"})," ",s("users.remove")]})]})]})})]},a.id)),o.length===0&&e.jsx(m,{children:e.jsx(l,{colSpan:5,className:"text-center py-6 text-muted-foreground",children:s("users.noUsers")})})]})]})})]})]})}export{we as default};
