import{u as C,j as e,H as N,L as l}from"./app-De9YtYVO.js";import{D as b}from"./DashboardLayout-DB0kk3mn.js";import{B as c}from"./index-sqIKGjOx.js";import{C as S,a as _,b as A,d as L,c as w}from"./card-B1noy23o.js";import{I as m}from"./input-YJ4y34zb.js";import{L as d}from"./label-BNYjQoyA.js";import{T as D}from"./textarea-BrFMof27.js";import{S as p,a as x,b as h,c as j,d as n}from"./select-B2rqhBdx.js";import{S as F}from"./switch-EwwwBXc8.js";import{A as E}from"./arrow-left-BQixkFZB.js";import{L as T}from"./loader-circle-DjIWaf7f.js";import"./toaster-CljvMPLZ.js";import"./Combination-Dy-FKPUP.js";import"./useTranslation-CmIvGiqX.js";import"./dropdown-menu-BBgrL1DT.js";import"./index-DEhQiHRI.js";import"./x-D7kv7_oa.js";import"./dialog-B_EPHwqc.js";import"./plus-DIUrj948.js";import"./file-text-D4ZH2B6r.js";import"./building-2-B8zwlaZI.js";import"./users-Cw2EaZtR.js";import"./package-DX_4eLNa.js";import"./LanguageSwitcher-JaZwuRsp.js";import"./globe-BnAvlmAt.js";import"./ThemeToggle-IPjgC8LT.js";import"./circle-alert-nT1vmDMj.js";import"./index-CENxNQLL.js";function ce({account:t,parents:u,types:v}){const{data:a,setData:r,put:f,processing:o,errors:i}=C({code:t.code,name:t.name,type:t.type,subtype:t.subtype||"",parent_id:t.parent_id?t.parent_id.toString():"",description:t.description||"",is_active:!!t.is_active}),y=s=>{s.preventDefault(),f(route("accounting.coa.update",t.id))};return e.jsxs(b,{header:`Edit Account: ${t.code}`,children:[e.jsx(N,{title:`Edit Account ${t.code}`}),e.jsxs("div",{className:"max-w-2xl mx-auto py-6 space-y-6",children:[e.jsx(c,{variant:"ghost",asChild:!0,className:"mb-4",children:e.jsxs(l,{href:route("accounting.coa.index"),children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),"Back to Chart of Accounts"]})}),e.jsxs(S,{children:[e.jsxs(_,{children:[e.jsx(A,{children:"Edit Account"}),e.jsx(L,{children:"Update account details."})]}),e.jsx(w,{children:e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"code",children:"Account Code *"}),e.jsx(m,{id:"code",value:a.code,onChange:s=>r("code",s.target.value)}),i.code&&e.jsx("p",{className:"text-sm text-red-500",children:i.code})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"type",children:"Account Type *"}),e.jsxs(p,{value:a.type,onValueChange:s=>r("type",s),disabled:t.is_system,children:[e.jsx(x,{children:e.jsx(h,{placeholder:"Select type"})}),e.jsx(j,{children:Object.entries(v).map(([s,g])=>e.jsx(n,{value:s,children:g},s))})]}),i.type&&e.jsx("p",{className:"text-sm text-red-500",children:i.type}),t.is_system&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"Specific system types cannot be changed."})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"name",children:"Account Name *"}),e.jsx(m,{id:"name",value:a.name,onChange:s=>r("name",s.target.value)}),i.name&&e.jsx("p",{className:"text-sm text-red-500",children:i.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"parent_id",children:"Parent Account"}),e.jsxs(p,{value:a.parent_id,onValueChange:s=>r("parent_id",s==="none"?"":s),children:[e.jsx(x,{children:e.jsx(h,{placeholder:"Select parent account"})}),e.jsxs(j,{children:[e.jsx(n,{value:"none",children:"No Parent"}),u.map(s=>e.jsxs(n,{value:s.id.toString(),children:[s.code," - ",s.name]},s.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"description",children:"Description"}),e.jsx(D,{id:"description",value:a.description,onChange:s=>r("description",s.target.value)})]}),e.jsxs("div",{className:"flex items-center justify-between border p-4 rounded-md",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(d,{className:"text-base",children:"Active Status"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Inactive accounts cannot be used."})]}),e.jsx(F,{checked:a.is_active,onCheckedChange:s=>r("is_active",s)})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(c,{type:"button",variant:"outline",asChild:!0,children:e.jsx(l,{href:route("accounting.coa.index"),children:"Cancel"})}),e.jsxs(c,{type:"submit",disabled:o,children:[o&&e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Changes"]})]})]})})]})]})]})}export{ce as default};
