import{j as t,u as a,L as m}from"./app-De9YtYVO.js";import{B as h}from"./badge-C9h6T3rK.js";import{C as l}from"./checkbox-DSt0QHsS.js";import{B as c}from"./index-sqIKGjOx.js";import{D as p,a as x,b as g,d as f,c as n,e as j}from"./dropdown-menu-BBgrL1DT.js";import{u as r}from"./useTranslation-CmIvGiqX.js";import{A as y}from"./arrow-up-down-1q5LzOz0.js";import{E as w}from"./ellipsis-yQlqSxW1.js";import{f as C}from"./format-BS8Ay9AX.js";import"./index-CENxNQLL.js";import"./Combination-Dy-FKPUP.js";const R=[{id:"select",header:({table:e})=>t.jsx(l,{checked:e.getIsAllPageRowsSelected()||e.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:s=>e.toggleAllPageRowsSelected(!!s),"aria-label":"Select all"}),cell:({row:e})=>t.jsx(l,{checked:e.getIsSelected(),onCheckedChange:s=>e.toggleSelected(!!s),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{accessorKey:"number",header:({column:e})=>{const{t:s}=r();return t.jsxs(c,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),children:[s("invoices.number"),t.jsx(y,{className:"ml-2 h-4 w-4"})]})},cell:({row:e})=>t.jsx("div",{className:"font-medium",children:e.getValue("number")})},{accessorKey:"date",header:()=>{const{t:e}=r();return e("sales.date")},cell:({row:e})=>t.jsx("div",{children:C(new Date(e.getValue("date")),"dd MMM yyyy")})},{accessorKey:"customer.name",header:()=>{const{t:e}=r();return e("sales.customer")},cell:({row:e})=>{const s=e.original.customer;return t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:s.name}),s.company_name&&t.jsx("div",{className:"text-sm text-muted-foreground",children:s.company_name})]})}},{accessorKey:"total",header:()=>{const{t:e}=r();return e("sales.amount")},cell:({row:e})=>{const s=parseFloat(e.getValue("total")),o=new Intl.NumberFormat("en-US",{style:"currency",currency:"MYR",minimumFractionDigits:2}).format(s);return t.jsx("div",{className:"font-medium",children:o})}},{accessorKey:"status",header:()=>{const{t:e}=r();return e("sales.status")},cell:({row:e})=>{const s=e.getValue("status");return t.jsx(h,{variant:s==="draft"?"outline":s==="posted"?"default":s==="void"?"destructive":"default",children:s.charAt(0).toUpperCase()+s.slice(1)})}},{id:"actions",cell:({row:e})=>{const s=e.original;return t.jsx(b,{creditNote:s})}}],b=({creditNote:e})=>{const{t:s}=r(),{delete:o}=a({}),{post:i}=a({}),d=()=>{confirm("Are you sure you want to delete this credit note?")&&o(route("sales.credit-notes.destroy",e.id))},u=()=>{confirm("Are you sure you want to post this credit note? This action cannot be undone.")&&i(route("sales.credit-notes.post",e.id))};return t.jsxs(p,{children:[t.jsx(x,{asChild:!0,children:t.jsxs(c,{variant:"ghost",className:"h-8 w-8 p-0",children:[t.jsx("span",{className:"sr-only",children:"Open menu"}),t.jsx(w,{className:"h-4 w-4"})]})}),t.jsxs(g,{align:"end",children:[t.jsx(f,{children:"Actions"}),t.jsx(n,{onClick:()=>navigator.clipboard.writeText(e.number),children:"Copy Number"}),t.jsx(j,{}),t.jsx(n,{asChild:!0,children:t.jsx("a",{href:route("sales.credit-notes.pdf",e.id),target:"_blank",rel:"noopener noreferrer",children:"Download PDF"})}),e.status==="draft"&&t.jsxs(t.Fragment,{children:[t.jsx(n,{onClick:u,children:"Post"}),t.jsx(n,{asChild:!0,children:t.jsx(m,{href:route("sales.credit-notes.edit",e.id),children:"Edit"})}),t.jsx(n,{onClick:d,className:"text-red-600 focus:text-red-600",children:"Delete"})]})]})]})};export{R as columns};
