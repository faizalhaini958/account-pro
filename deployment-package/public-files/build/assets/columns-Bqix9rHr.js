import{j as s,u as p,L as a}from"./app-De9YtYVO.js";import{B as g}from"./badge-C9h6T3rK.js";import{C as i}from"./checkbox-DSt0QHsS.js";import{B as c}from"./index-sqIKGjOx.js";import{f}from"./format-D9s8ZFBe.js";import{D as j,a as y,b as w,d as C,c as r,e as n}from"./dropdown-menu-BBgrL1DT.js";import{u as o}from"./useTranslation-CmIvGiqX.js";import{A as D}from"./arrow-up-down-1q5LzOz0.js";import{E as v}from"./ellipsis-yQlqSxW1.js";import{f as d}from"./format-BS8Ay9AX.js";import"./index-CENxNQLL.js";import"./Combination-Dy-FKPUP.js";const F=[{id:"select",header:({table:e})=>s.jsx(i,{checked:e.getIsAllPageRowsSelected()||e.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:t=>e.toggleAllPageRowsSelected(!!t),"aria-label":"Select all"}),cell:({row:e})=>s.jsx(i,{checked:e.getIsSelected(),onCheckedChange:t=>e.toggleSelected(!!t),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{accessorKey:"date",header:({column:e})=>{const{t}=o();return s.jsxs(c,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),children:["Date",s.jsx(D,{className:"ml-2 h-4 w-4"})]})},cell:({row:e})=>d(new Date(e.getValue("date")),"dd/MM/yyyy")},{accessorKey:"number",header:()=>{const{t:e}=o();return"Invoice #"},cell:({row:e})=>s.jsx("span",{className:"font-mono",children:e.getValue("number")})},{accessorKey:"customer.name",header:()=>{const{t:e}=o();return"Customer"}},{accessorKey:"due_date",header:()=>{const{t:e}=o();return"Due Date"},cell:({row:e})=>d(new Date(e.getValue("due_date")),"dd/MM/yyyy")},{accessorKey:"total",header:({column:e})=>{const{t}=o();return s.jsx("div",{className:"text-right",children:"Amount"})},cell:({row:e})=>{const t=parseFloat(e.getValue("total"));return s.jsx("div",{className:"text-right font-medium",children:f(t)})}},{accessorKey:"status",header:()=>{const{t:e}=o();return"Status"},cell:({row:e})=>{const t=e.getValue("status");return s.jsx(g,{variant:t==="paid"?"default":t==="posted"?"secondary":t==="draft"?"outline":"destructive",className:t==="paid"?"bg-green-600 text-white hover:bg-green-700":"",children:t.toUpperCase()})}},{id:"actions",cell:({row:e})=>{const t=e.original;return s.jsx(S,{invoice:t})}}],S=({invoice:e})=>{const{t}=o(),{delete:u,post:l}=p({}),h=()=>{confirm("Are you sure you want to delete this invoice?")&&u(route("sales.invoices.destroy",e.id))},m=()=>{confirm("Are you sure you want to post this invoice? This action cannot be fully undone.")&&l(route("sales.invoices.post",e.id))},x=()=>{confirm("Are you sure you want to void this invoice?")&&l(route("sales.invoices.void",e.id))};return s.jsxs(j,{children:[s.jsx(y,{asChild:!0,children:s.jsxs(c,{variant:"ghost",className:"h-8 w-8 p-0",children:[s.jsx("span",{className:"sr-only",children:"Open menu"}),s.jsx(v,{className:"h-4 w-4"})]})}),s.jsxs(w,{align:"end",children:[s.jsx(C,{children:"Actions"}),s.jsx(r,{asChild:!0,children:s.jsx(a,{href:route("sales.invoices.show",e.id),children:"View Details"})}),s.jsx(r,{asChild:!0,children:s.jsx("a",{href:route("sales.invoices.pdf",e.id),target:"_blank",children:"Download PDF"})}),["posted","partial","overdue"].includes(e.status)&&s.jsx(r,{asChild:!0,children:s.jsx(a,{href:route("sales.invoices.payment",e.id),children:"Record Payment"})}),e.status==="draft"&&s.jsxs(s.Fragment,{children:[s.jsx(n,{}),s.jsx(r,{asChild:!0,children:s.jsx(a,{href:route("sales.invoices.edit",e.id),children:"Edit"})}),s.jsx(n,{}),s.jsx(r,{onClick:m,children:"Post Invoice"}),s.jsx(n,{}),s.jsx(r,{onClick:h,className:"text-red-600 focus:text-red-600",children:"Delete"})]}),e.status==="posted"&&s.jsx(r,{onClick:x,className:"text-red-600 focus:text-red-600",children:"Void Invoice"})]})]})};export{F as columns};
