import{u as _,j as e,H as C,L as w}from"./app-De9YtYVO.js";import{A as S}from"./AdminLayout-B9Mfz47I.js";import{C as o,a as c,b as l,c as d,d as I}from"./card-B1noy23o.js";import{c as L,B as x}from"./index-sqIKGjOx.js";import{I as m}from"./input-YJ4y34zb.js";import{L as n}from"./label-BNYjQoyA.js";import{T as P}from"./textarea-BrFMof27.js";import{S as y}from"./switch-EwwwBXc8.js";import{S as j}from"./toaster-CljvMPLZ.js";import{B as f}from"./badge-C9h6T3rK.js";import{A as R}from"./arrow-left-BQixkFZB.js";import{C as A}from"./credit-card-wln7jJg5.js";import{S as D}from"./shield-CJZNipff.js";import{L as M}from"./loader-circle-DjIWaf7f.js";import"./ThemeToggle-IPjgC8LT.js";import"./users-Cw2EaZtR.js";import"./package-DX_4eLNa.js";import"./file-text-D4ZH2B6r.js";import"./index-CENxNQLL.js";import"./Combination-Dy-FKPUP.js";import"./useTranslation-CmIvGiqX.js";import"./dropdown-menu-BBgrL1DT.js";import"./index-DEhQiHRI.js";import"./x-D7kv7_oa.js";const Y=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],F=L("key",Y),H={kipple_pay:[{key:"merchant_id",label:"Merchant ID",type:"text",placeholder:"Your Kipple Merchant ID"},{key:"api_key",label:"API Key",type:"password",placeholder:"Your API Key",sensitive:!0},{key:"secret_key",label:"Secret Key",type:"password",placeholder:"Your Secret Key",sensitive:!0},{key:"callback_url",label:"Callback URL",type:"url",placeholder:"https://your-domain.com/payment/kipple/callback"},{key:"redirect_url",label:"Redirect URL",type:"url",placeholder:"https://your-domain.com/payment/kipple/redirect"}],chip:[{key:"brand_id",label:"Brand ID",type:"text",placeholder:"Your CHIP Brand ID",description:"âœ… Required: Get this from your CHIP dashboard"},{key:"api_key",label:"API Key",type:"password",placeholder:"Your API Key",sensitive:!0,description:"âœ… Required: Get this from your CHIP dashboard"},{key:"webhook_secret",label:"Webhook Secret (Public Key)",type:"password",placeholder:"Public key from CHIP webhook registration",sensitive:!0,description:"âš ï¸ Optional: Only required if you enable webhook notifications. You receive this public key when registering your webhook URL in CHIP dashboard."},{key:"webhook_url",label:"Webhook URL",type:"url",placeholder:"https://your-domain.com/payment/chip/webhook",description:"âš ï¸ Optional: Only required if you enable webhook notifications. Register this URL in your CHIP dashboard to receive payment status updates."}]};function ce({gateway:a}){const p=H[a.code]||[],{data:r,setData:i,patch:g,processing:h,errors:u}=_({name:a.name,description:a.description||"",is_active:a.is_active,is_sandbox:a.is_sandbox,config:a.config||{},supported_currencies:a.supported_currencies||["MYR"],min_amount:a.min_amount||"",max_amount:a.max_amount||""}),b=s=>{s.preventDefault(),g(route("admin.settings.payment-gateways.update",a.id))},v=(s,t)=>{i("config",{...r.config,[s]:t})},k=s=>{switch(s){case"kipple_pay":return"ðŸ¦";case"chip":return"ðŸ’³";default:return"ðŸ’°"}};return e.jsxs(S,{header:`Configure ${a.name}`,children:[e.jsx(C,{title:`Configure ${a.name}`}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(x,{variant:"ghost",size:"icon",asChild:!0,children:e.jsx(w,{href:route("admin.settings.payment-gateways"),children:e.jsx(R,{className:"h-4 w-4"})})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-3xl font-bold tracking-tight flex items-center gap-3",children:[e.jsx("span",{className:"text-4xl",children:k(a.code)}),a.name]}),e.jsx("p",{className:"text-muted-foreground",children:"Configure gateway credentials and settings"})]})]}),e.jsx("form",{onSubmit:b,children:e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(o,{children:[e.jsx(c,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5"}),"General Settings"]})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"name",children:"Display Name"}),e.jsx(m,{id:"name",value:r.name,onChange:s=>i("name",s.target.value)}),u.name&&e.jsx("p",{className:"text-sm text-destructive",children:u.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"description",children:"Description"}),e.jsx(P,{id:"description",value:r.description,onChange:s=>i("description",s.target.value),placeholder:"Brief description of this gateway"})]}),e.jsx(j,{}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"min_amount",children:"Minimum Amount (MYR)"}),e.jsx(m,{id:"min_amount",type:"number",step:"0.01",value:r.min_amount,onChange:s=>i("min_amount",s.target.value),placeholder:"0.00"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"max_amount",children:"Maximum Amount (MYR)"}),e.jsx(m,{id:"max_amount",type:"number",step:"0.01",value:r.max_amount,onChange:s=>i("max_amount",s.target.value),placeholder:"Unlimited"})]})]})]})]}),e.jsxs(o,{children:[e.jsxs(c,{children:[e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),"API Credentials"]}),e.jsx(I,{children:"Enter your gateway API credentials. Sensitive fields are encrypted."})]}),e.jsx(d,{className:"space-y-4",children:p.length===0?e.jsx("p",{className:"text-muted-foreground",children:"No configuration fields defined for this gateway."}):p.map(s=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:s.key,className:"flex items-center gap-2",children:[s.label,s.sensitive&&e.jsx(D,{className:"h-3 w-3 text-muted-foreground"})]}),e.jsx(m,{id:s.key,type:s.type,value:r.config[s.key]||"",onChange:t=>v(s.key,t.target.value),placeholder:s.placeholder}),s.description&&e.jsx("p",{className:"text-xs text-muted-foreground",children:s.description})]},s.key))})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(o,{children:[e.jsx(c,{children:e.jsx(l,{children:"Status"})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{children:"Active"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable this gateway for payments"})]}),e.jsx(y,{checked:r.is_active,onCheckedChange:s=>i("is_active",s)})]}),e.jsx(j,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{children:"Sandbox Mode"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Use test/sandbox environment"})]}),e.jsx(y,{checked:r.is_sandbox,onCheckedChange:s=>i("is_sandbox",s)})]}),e.jsx("div",{className:"pt-2",children:e.jsx(f,{variant:r.is_sandbox?"secondary":"default",className:"w-full justify-center",children:r.is_sandbox?"ðŸ§ª Sandbox Mode":"ðŸ”´ Live Mode"})})]})]}),e.jsxs(o,{children:[e.jsx(c,{children:e.jsx(l,{children:"Supported Currencies"})}),e.jsxs(d,{children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:["MYR","USD","SGD"].map(s=>e.jsx(f,{variant:r.supported_currencies?.includes(s)?"default":"outline",className:"cursor-pointer",onClick:()=>{const t=r.supported_currencies||[];t.includes(s)?i("supported_currencies",t.filter(N=>N!==s)):i("supported_currencies",[...t,s])},children:s},s))}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Click to toggle currencies"})]})]}),e.jsx(x,{type:"submit",className:"w-full",disabled:h,children:h?e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})})]})]})}export{ce as default};
