import{j as s,u as h,L as p}from"./app-De9YtYVO.js";import{B as g}from"./badge-C9h6T3rK.js";import{B as c}from"./index-sqIKGjOx.js";import{f as x}from"./format-D9s8ZFBe.js";import{D as f,a as v,b as j,d as y,c as a,e as b}from"./dropdown-menu-BBgrL1DT.js";import{u as o}from"./useTranslation-CmIvGiqX.js";import{A as i}from"./arrow-up-down-1q5LzOz0.js";import{E as w}from"./ellipsis-yQlqSxW1.js";import{f as d}from"./format-BS8Ay9AX.js";import"./Combination-Dy-FKPUP.js";const F=[{accessorKey:"date",header:({column:e})=>{const{t:r}=o();return s.jsxs(c,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),children:[r("purchaseInvoices.date"),s.jsx(i,{className:"ml-2 h-4 w-4"})]})},cell:({row:e})=>{const r=new Date(e.getValue("date"));return s.jsx("div",{children:d(r,"dd/MM/yyyy")})}},{accessorKey:"reference_number",header:({column:e})=>{const{t:r}=o();return r("purchaseInvoices.number")},cell:({row:e})=>s.jsx("div",{className:"font-mono font-medium",children:e.getValue("reference_number")})},{accessorKey:"supplier.name",header:({column:e})=>{const{t:r}=o();return r("purchaseInvoices.supplier")}},{accessorKey:"due_date",header:({column:e})=>{const{t:r}=o();return r("purchaseInvoices.dueDate")},cell:({row:e})=>{const r=new Date(e.getValue("due_date"));return s.jsx("div",{className:"text-muted-foreground text-sm",children:d(r,"dd/MM/yyyy")})}},{accessorKey:"total",header:({column:e})=>{const{t:r}=o();return s.jsx("div",{className:"text-right",children:s.jsxs(c,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),children:[r("purchaseInvoices.grandTotal").replace(":",""),s.jsx(i,{className:"ml-2 h-4 w-4"})]})})},cell:({row:e})=>{const r=parseFloat(e.getValue("total"));return s.jsx("div",{className:"text-right font-medium",children:x(r)})}},{accessorKey:"status",header:({column:e})=>{const{t:r}=o();return r("purchaseInvoices.status")},cell:({row:e})=>{const r=e.original.status,n={draft:"bg-gray-100 text-gray-800 hover:bg-gray-100",posted:"bg-blue-100 text-blue-800 hover:bg-blue-100",paid:"bg-green-100 text-green-800 hover:bg-green-100",void:"bg-red-100 text-red-800 hover:bg-red-100",overdue:"bg-orange-100 text-orange-800 hover:bg-orange-100"};return s.jsx(g,{className:n[r]||"bg-gray-100",children:r.toUpperCase()})}},{id:"actions",cell:({row:e})=>{const r=e.original;return s.jsx(C,{invoice:r})}}],C=({invoice:e})=>{const{delete:r,post:n}=h({}),{t}=o(),l=()=>{confirm(t("purchaseInvoices.deleteConfirmation"))&&r(route("purchase.invoices.destroy",e.id))},u=()=>{confirm(t("purchaseInvoices.postConfirmation"))&&n(route("purchase.invoices.post",e.id))},m=()=>{confirm(t("purchaseInvoices.voidConfirmation"))&&n(route("purchase.invoices.void",e.id))};return s.jsxs(f,{children:[s.jsx(v,{asChild:!0,children:s.jsxs(c,{variant:"ghost",className:"h-8 w-8 p-0",children:[s.jsx("span",{className:"sr-only",children:"Open menu"}),s.jsx(w,{className:"h-4 w-4"})]})}),s.jsxs(j,{align:"end",children:[s.jsx(y,{children:t("master.actions")}),e.status==="draft"&&s.jsxs(s.Fragment,{children:[s.jsx(a,{asChild:!0,children:s.jsx(p,{href:route("purchase.invoices.edit",e.id),children:t("common.edit")})}),s.jsx(a,{onClick:u,children:t("purchaseInvoices.post")}),s.jsx(b,{}),s.jsx(a,{onClick:l,className:"text-red-600 focus:text-red-600",children:t("common.delete")})]}),e.status==="posted"&&s.jsx(s.Fragment,{children:s.jsx(a,{onClick:m,className:"text-red-600 focus:text-red-600",children:t("purchaseInvoices.void")})})]})]})};export{F as columns};
