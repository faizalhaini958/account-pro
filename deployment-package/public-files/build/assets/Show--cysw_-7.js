import{j as e,H as p,L as h}from"./app-De9YtYVO.js";import{D as u}from"./DashboardLayout-DB0kk3mn.js";import{B as j}from"./index-sqIKGjOx.js";import{C as n,a as c,b as d,c as l}from"./card-B1noy23o.js";import{f as m}from"./format-D9s8ZFBe.js";import{T as f,a as b,b as o,c as i,d as N,e as t}from"./table-3xAxy9mO.js";import{B as v}from"./badge-C9h6T3rK.js";import{u as y}from"./useTranslation-CmIvGiqX.js";import{f as x}from"./format-BS8Ay9AX.js";import"./toaster-CljvMPLZ.js";import"./Combination-Dy-FKPUP.js";import"./dropdown-menu-BBgrL1DT.js";import"./input-YJ4y34zb.js";import"./index-DEhQiHRI.js";import"./x-D7kv7_oa.js";import"./dialog-B_EPHwqc.js";import"./label-BNYjQoyA.js";import"./plus-DIUrj948.js";import"./file-text-D4ZH2B6r.js";import"./building-2-B8zwlaZI.js";import"./users-Cw2EaZtR.js";import"./package-DX_4eLNa.js";import"./LanguageSwitcher-JaZwuRsp.js";import"./globe-BnAvlmAt.js";import"./ThemeToggle-IPjgC8LT.js";import"./circle-alert-nT1vmDMj.js";function V({payment:r}){const{t:s}=y();return e.jsxs(u,{header:s("payments.viewHeader",{reference:r.reference_number}),children:[e.jsx(p,{title:s("payments.viewHeader",{reference:r.reference_number})}),e.jsx("div",{className:"max-w-4xl mx-auto py-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:s("payments.recordedOn",{date:x(new Date(r.created_at||new Date),"PPP")})}),e.jsx("div",{className:"space-x-2",children:e.jsx(j,{variant:"outline",asChild:!0,children:e.jsx(h,{href:route("purchase.payments.index"),children:s("common.backToList")})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(n,{children:[e.jsx(c,{children:e.jsx(d,{children:s("payments.details")})}),e.jsxs(l,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between py-2 border-b",children:[e.jsx("span",{className:"font-medium",children:s("payments.reference")}),e.jsx("span",{children:r.reference_number})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b",children:[e.jsx("span",{className:"font-medium",children:s("payments.date")}),e.jsx("span",{children:x(new Date(r.date),"dd/MM/yyyy")})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b",children:[e.jsx("span",{className:"font-medium",children:s("payments.amount")}),e.jsx("span",{className:"font-bold text-lg",children:m(parseFloat(r.amount.toString()))})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b",children:[e.jsx("span",{className:"font-medium",children:s("payments.method")}),e.jsx(v,{variant:"outline",children:r.payment_method})]}),r.notes&&e.jsxs("div",{className:"pt-2",children:[e.jsx("span",{className:"font-medium block mb-1",children:s("payments.notes")}),e.jsx("p",{className:"text-sm text-muted-foreground bg-gray-50 p-2 rounded",children:r.notes})]})]})]}),e.jsxs(n,{children:[e.jsx(c,{children:e.jsx(d,{children:s("payments.parties")})}),e.jsxs(l,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider mb-2",children:s("payments.paidTo")}),e.jsx("div",{className:"text-lg font-medium",children:r.supplier.name}),e.jsx("div",{className:"text-sm",children:r.supplier.contact_person}),e.jsx("div",{className:"text-sm",children:r.supplier.email})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider mb-2",children:s("payments.paidFrom")}),e.jsx("div",{className:"font-medium",children:r.bank_account.bank_name}),e.jsx("div",{className:"text-sm",children:r.bank_account.account_name}),e.jsx("div",{className:"text-sm font-mono",children:r.bank_account.account_number})]})]})]})]}),e.jsxs(n,{children:[e.jsx(c,{children:e.jsx(d,{children:s("payments.allocations")})}),e.jsx(l,{children:e.jsxs(f,{children:[e.jsx(b,{children:e.jsxs(o,{children:[e.jsx(i,{children:s("payments.invoiceNo")}),e.jsx(i,{children:s("payments.invoiceDate")}),e.jsx(i,{className:"text-right",children:s("payments.invoiceTotal")}),e.jsx(i,{className:"text-right",children:s("payments.allocatedAmount")})]})}),e.jsx(N,{children:r.allocations.length>0?r.allocations.map(a=>e.jsxs(o,{children:[e.jsx(t,{className:"font-medium",children:e.jsx(h,{href:route("purchase.invoices.edit",a.purchase_invoice?.id||0),className:"text-blue-600 hover:underline",children:a.purchase_invoice?.reference_number||"N/A"})}),e.jsx(t,{children:a.purchase_invoice?x(new Date(a.purchase_invoice.date),"dd/MM/yyyy"):"-"}),e.jsx(t,{className:"text-right",children:a.purchase_invoice?m(parseFloat(a.purchase_invoice.total.toString())):"-"}),e.jsx(t,{className:"text-right font-bold",children:m(parseFloat(a.amount.toString()))})]},a.id)):e.jsx(o,{children:e.jsx(t,{colSpan:4,className:"text-center text-muted-foreground py-4",children:"No invoices allocated to this payment (On Account)."})})})]})})]})]})})]})}export{V as default};
