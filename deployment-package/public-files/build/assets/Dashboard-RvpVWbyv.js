import{j as s,H as w,L as l}from"./app-De9YtYVO.js";import{D as T}from"./DashboardLayout-DB0kk3mn.js";import{S as o}from"./StatCard-Di8rbHaC.js";import{C as i,a as c,b as n,d as m,c as h}from"./card-B1noy23o.js";import{T as k,a as C,b,c as x,d as D,e as p}from"./table-3xAxy9mO.js";import{u as M}from"./useTranslation-CmIvGiqX.js";import{D as g}from"./dollar-sign-DPVe0Dcb.js";import{T as f}from"./trending-up-ChqLNJdA.js";import{c as _}from"./index-sqIKGjOx.js";import{P as S}from"./package-DX_4eLNa.js";import{F as N}from"./file-text-D4ZH2B6r.js";import{f as H}from"./format-BS8Ay9AX.js";import"./toaster-CljvMPLZ.js";import"./Combination-Dy-FKPUP.js";import"./dropdown-menu-BBgrL1DT.js";import"./input-YJ4y34zb.js";import"./index-DEhQiHRI.js";import"./x-D7kv7_oa.js";import"./dialog-B_EPHwqc.js";import"./label-BNYjQoyA.js";import"./plus-DIUrj948.js";import"./building-2-B8zwlaZI.js";import"./users-Cw2EaZtR.js";import"./LanguageSwitcher-JaZwuRsp.js";import"./globe-BnAvlmAt.js";import"./ThemeToggle-IPjgC8LT.js";import"./circle-alert-nT1vmDMj.js";const L=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],I=_("trending-down",L);function ts({metrics:r,chartData:j,recentInvoices:u}){const{t:e,i18n:v}=M(),d=a=>{const t=v.language==="ms"?"ms-MY":"en-MY";return new Intl.NumberFormat(t,{style:"currency",currency:"MYR"}).format(a)},y=Math.max(...j.map(a=>a.total),1);return s.jsxs(T,{header:e("nav.dashboard"),children:[s.jsx(w,{title:e("nav.dashboard")}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:e("dashboard.welcome")}),s.jsx("p",{className:"text-muted-foreground",children:e("dashboard.subtitle")})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsx(o,{title:e("dashboard.salesToday"),value:d(r.sales_today),description:e("dashboard.desc.salesToday"),icon:g}),s.jsx(o,{title:e("dashboard.receivables"),value:d(r.receivables),description:e("dashboard.desc.receivables"),icon:f,className:"border-blue-200"}),s.jsx(o,{title:e("dashboard.payables"),value:d(r.payables),description:e("dashboard.desc.payables"),icon:I,className:"border-orange-200"}),s.jsx(o,{title:e("dashboard.lowStock"),value:r.low_stock,description:e("dashboard.desc.lowStock"),icon:S,className:r.low_stock>0?"border-red-200":""})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[s.jsxs(i,{className:"col-span-4",children:[s.jsxs(c,{children:[s.jsx(n,{children:e("dashboard.salesTrend")}),s.jsx(m,{children:e("dashboard.last7Days")})]}),s.jsx(h,{children:s.jsx("div",{className:"space-y-2",children:j.map((a,t)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-20 text-sm text-muted-foreground",children:a.date}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"h-8 bg-blue-100 rounded",style:{width:`${a.total/y*100}%`},children:s.jsx("div",{className:"h-full bg-blue-500 rounded flex items-center justify-end pr-2",children:s.jsx("span",{className:"text-xs text-white font-medium",children:d(a.total)})})})})]},t))})})]}),s.jsxs(i,{className:"col-span-3",children:[s.jsxs(c,{children:[s.jsx(n,{children:e("dashboard.recentInvoices")}),s.jsx(m,{children:e("dashboard.latestInvoices")})]}),s.jsx(h,{children:s.jsx("div",{className:"space-y-4",children:u.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:e("dashboard.noInvoices")}):s.jsxs(k,{children:[s.jsx(C,{children:s.jsxs(b,{children:[s.jsx(x,{children:e("sales.invoiceNumber")}),s.jsx(x,{children:e("sales.customer")}),s.jsx(x,{className:"text-right",children:e("sales.amount")})]})}),s.jsx(D,{children:u.map(a=>s.jsxs(b,{children:[s.jsxs(p,{children:[s.jsx(l,{href:route("sales.invoices.show",a.id),className:"font-medium hover:underline block",children:a.number}),s.jsx("div",{className:"text-xs text-muted-foreground",children:H(new Date(a.date),"dd/MM/yyyy")})]}),s.jsx(p,{className:"text-sm",children:a.customer?.name||"Unknown Customer"}),s.jsx(p,{className:"text-right font-medium",children:d(a.total)})]},a.id))})]})})})]})]}),s.jsxs(i,{children:[s.jsxs(c,{children:[s.jsx(n,{children:e("dashboard.quickActions")}),s.jsx(m,{children:e("dashboard.commonTasks")})]}),s.jsx(h,{children:s.jsxs("div",{className:"grid gap-2 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(l,{href:route("sales.invoices.index"),className:"flex items-center gap-2 p-3 rounded-lg border hover:bg-accent transition-colors",children:[s.jsx(N,{className:"h-5 w-5 text-blue-600"}),s.jsx("span",{className:"font-medium",children:e("sales.invoices")})]}),s.jsxs(l,{href:route("purchase.invoices.index"),className:"flex items-center gap-2 p-3 rounded-lg border hover:bg-accent transition-colors",children:[s.jsx(N,{className:"h-5 w-5 text-orange-600"}),s.jsx("span",{className:"font-medium",children:e("purchases.invoices")})]}),s.jsxs(l,{href:route("sales.receipts.index"),className:"flex items-center gap-2 p-3 rounded-lg border hover:bg-accent transition-colors",children:[s.jsx(g,{className:"h-5 w-5 text-green-600"}),s.jsx("span",{className:"font-medium",children:e("sales.receipts")})]}),s.jsxs(l,{href:route("reports.profit-and-loss"),className:"flex items-center gap-2 p-3 rounded-lg border hover:bg-accent transition-colors",children:[s.jsx(f,{className:"h-5 w-5 text-purple-600"}),s.jsx("span",{className:"font-medium",children:e("dashboard.viewReports")})]})]})})]})]})]})}export{ts as default};
