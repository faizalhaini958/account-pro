import{j as t,u,L as a}from"./app-De9YtYVO.js";import{B as h}from"./badge-C9h6T3rK.js";import{C as n}from"./checkbox-DSt0QHsS.js";import{B as d}from"./index-sqIKGjOx.js";import{D as m,a as x,b as f,d as j,c as r,e as c}from"./dropdown-menu-BBgrL1DT.js";import{u as l}from"./useTranslation-CmIvGiqX.js";import{A as p}from"./arrow-up-down-1q5LzOz0.js";import{E as g}from"./ellipsis-yQlqSxW1.js";import{f as w}from"./format-BS8Ay9AX.js";import"./index-CENxNQLL.js";import"./Combination-Dy-FKPUP.js";const K=[{id:"select",header:({table:e})=>t.jsx(n,{checked:e.getIsAllPageRowsSelected()||e.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:s=>e.toggleAllPageRowsSelected(!!s),"aria-label":"Select all"}),cell:({row:e})=>t.jsx(n,{checked:e.getIsSelected(),onCheckedChange:s=>e.toggleSelected(!!s),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{accessorKey:"date",header:({column:e})=>{const{t:s}=l();return t.jsxs(d,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),children:["Date",t.jsx(p,{className:"ml-2 h-4 w-4"})]})},cell:({row:e})=>w(new Date(e.getValue("date")),"dd/MM/yyyy")},{accessorKey:"number",header:()=>{const{t:e}=l();return"Reference"}},{accessorKey:"customer.name",header:()=>{const{t:e}=l();return"Customer"}},{accessorKey:"total",header:()=>{const{t:e}=l();return t.jsx("div",{className:"text-right",children:"Amount"})},cell:({row:e})=>{const s=parseFloat(e.getValue("total")),o=new Intl.NumberFormat("en-MY",{style:"currency",currency:"MYR"}).format(s);return t.jsx("div",{className:"text-right font-medium",children:o})}},{accessorKey:"status",header:()=>{const{t:e}=l();return"Status"},cell:({row:e})=>{const s=e.getValue("status");return t.jsx(h,{variant:s==="sent"?"secondary":"outline",children:s})}},{id:"actions",cell:({row:e})=>{const s=e.original;return t.jsx(C,{quotation:s})}}],C=({quotation:e})=>{const{t:s}=l(),{delete:o}=u({}),i=()=>{confirm("Are you sure you want to delete this quotation?")&&o(route("sales.quotations.destroy",e.id))};return t.jsxs(m,{children:[t.jsx(x,{asChild:!0,children:t.jsxs(d,{variant:"ghost",className:"h-8 w-8 p-0",children:[t.jsx("span",{className:"sr-only",children:"Open menu"}),t.jsx(g,{className:"h-4 w-4"})]})}),t.jsxs(f,{align:"end",children:[t.jsx(j,{children:"Actions"}),t.jsx(r,{onClick:()=>navigator.clipboard.writeText(e.id),children:"Copy ID"}),t.jsx(c,{}),t.jsx(r,{asChild:!0,children:t.jsx(a,{href:route("sales.quotations.show",e.id),children:"View"})}),t.jsx(r,{asChild:!0,children:t.jsx(a,{href:route("sales.quotations.edit",e.id),children:"Edit"})}),t.jsx(r,{asChild:!0,children:t.jsx("a",{href:route("sales.quotations.pdf",e.id),target:"_blank",children:"Download PDF"})}),e.status==="draft"&&t.jsx(r,{asChild:!0,children:t.jsx(a,{href:route("sales.quotations.mark-sent",e.id),method:"post",as:"button",className:"w-full text-left",children:"Mark as Sent"})}),(e.status==="sent"||e.status==="draft")&&t.jsx(r,{asChild:!0,children:t.jsx(a,{href:route("sales.quotations.mark-accepted",e.id),method:"post",as:"button",className:"w-full text-left",children:"Mark as Accepted"})}),(e.status==="sent"||e.status==="accepted")&&t.jsx(r,{asChild:!0,children:t.jsx(a,{href:route("sales.quotations.mark-rejected",e.id),method:"post",as:"button",className:"w-full text-left text-red-600 focus:text-red-600",children:"Mark as Rejected"})}),e.status==="accepted"&&t.jsx(r,{asChild:!0,children:t.jsx(a,{href:route("sales.quotations.convert",e.id),method:"post",as:"button",className:"w-full text-left",children:"Convert to Invoice"})}),t.jsx(c,{}),t.jsx(r,{onClick:i,className:"text-red-600 focus:text-red-600",children:"Delete"})]})]})};export{K as columns};
