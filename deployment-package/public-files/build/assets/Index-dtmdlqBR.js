import{r as N,u as F,j as e,H as S,a as T}from"./app-De9YtYVO.js";import{D as w}from"./DashboardLayout-DB0kk3mn.js";import{D as I}from"./data-table-D4pKVaNe.js";import{columns as P}from"./columns-whlrXi58.js";import{B as d}from"./index-sqIKGjOx.js";import{D as B,a as q,b as H,c as L,d as V,e as E,f as O}from"./dialog-B_EPHwqc.js";import{I as o}from"./input-YJ4y34zb.js";import{L as c}from"./label-BNYjQoyA.js";import{T as A}from"./textarea-BrFMof27.js";import{S as u,a as m,b as h,c as x,d as n}from"./select-B2rqhBdx.js";import{C as j}from"./checkbox-DSt0QHsS.js";import{u as R}from"./useTranslation-CmIvGiqX.js";import{P as z}from"./plus-DIUrj948.js";import"./toaster-CljvMPLZ.js";import"./Combination-Dy-FKPUP.js";import"./dropdown-menu-BBgrL1DT.js";import"./index-DEhQiHRI.js";import"./x-D7kv7_oa.js";import"./file-text-D4ZH2B6r.js";import"./building-2-B8zwlaZI.js";import"./users-Cw2EaZtR.js";import"./package-DX_4eLNa.js";import"./LanguageSwitcher-JaZwuRsp.js";import"./globe-BnAvlmAt.js";import"./ThemeToggle-IPjgC8LT.js";import"./circle-alert-nT1vmDMj.js";import"./table-3xAxy9mO.js";import"./trash-2-Dreerc3R.js";import"./badge-C9h6T3rK.js";import"./format-D9s8ZFBe.js";import"./arrow-up-down-1q5LzOz0.js";import"./ellipsis-yQlqSxW1.js";import"./index-CENxNQLL.js";function ke({products:v,categories:g}){const{t:s}=R(),[_,l]=N.useState(!1),{data:t,setData:a,post:f,processing:y,errors:i,reset:k}=F({name:"",sku:"",type:"product",retail_price:"",purchase_cost:"",description:"",track_inventory:!0,current_stock:"0",is_active:!0,product_category_id:""}),C=r=>{if(confirm(s("master.bulkDeleteConfirm",{count:r.length}))){const p=r.map(b=>b.id);T.delete(route("master.products.destroy",p[0]),{data:{ids:p},preserveScroll:!0})}},D=r=>{r.preventDefault(),f(route("master.products.store"),{onSuccess:()=>{l(!1),k()}})};return e.jsxs(w,{header:s("products.title"),children:[e.jsx(S,{title:s("products.title")}),e.jsxs("div",{className:"flex-1 space-y-4 p-8 pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between space-y-2",children:[e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:s("products.title")}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs(B,{open:_,onOpenChange:l,children:[e.jsx(q,{asChild:!0,children:e.jsxs(d,{children:[e.jsx(z,{className:"mr-2 h-4 w-4"}),s("products.new")]})}),e.jsxs(H,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(L,{children:[e.jsx(V,{children:s("products.createTitle")}),e.jsx(E,{children:s("products.createDesc")})]}),e.jsxs("form",{onSubmit:D,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(c,{htmlFor:"name",children:[s("products.name")," *"]}),e.jsx(o,{id:"name",value:t.name,onChange:r=>a("name",r.target.value),placeholder:s("products.namePlaceholder"),required:!0}),i.name&&e.jsx("p",{className:"text-sm text-red-500",children:i.name})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"sku",children:s("products.sku")}),e.jsx(o,{id:"sku",value:t.sku,onChange:r=>a("sku",r.target.value),placeholder:s("products.skuPlaceholder")}),i.sku&&e.jsx("p",{className:"text-sm text-red-500",children:i.sku})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"type",children:s("products.type")}),e.jsxs(u,{value:t.type,onValueChange:r=>a("type",r),children:[e.jsx(m,{children:e.jsx(h,{})}),e.jsxs(x,{children:[e.jsx(n,{value:"product",children:s("products.type.product")}),e.jsx(n,{value:"service",children:s("products.type.service")})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs(c,{htmlFor:"retail_price",children:[s("products.retailPrice")," *"]}),e.jsx(o,{id:"retail_price",type:"number",step:"0.01",value:t.retail_price,onChange:r=>a("retail_price",r.target.value),required:!0}),i.retail_price&&e.jsx("p",{className:"text-sm text-red-500",children:i.retail_price})]}),e.jsxs("div",{children:[e.jsxs(c,{htmlFor:"purchase_cost",children:[s("products.purchaseCost")," *"]}),e.jsx(o,{id:"purchase_cost",type:"number",step:"0.01",value:t.purchase_cost,onChange:r=>a("purchase_cost",r.target.value),required:!0}),i.purchase_cost&&e.jsx("p",{className:"text-sm text-red-500",children:i.purchase_cost})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"description",children:s("products.description")}),e.jsx(A,{id:"description",value:t.description,onChange:r=>a("description",r.target.value),placeholder:s("products.descriptionPlaceholder"),rows:2})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j,{id:"track_inventory",checked:t.track_inventory,onCheckedChange:r=>a("track_inventory",!!r)}),e.jsx(c,{htmlFor:"track_inventory",children:s("products.trackInventory")})]}),t.track_inventory&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"product_category_id",children:s("products.category")}),e.jsxs(u,{value:t.product_category_id,onValueChange:r=>a("product_category_id",r),children:[e.jsx(m,{children:e.jsx(h,{placeholder:s("products.selectCategory")})}),e.jsx(x,{children:g?.map(r=>e.jsx(n,{value:r.id.toString(),children:r.name},r.id))})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"current_stock",children:s("products.currentStock")}),e.jsx(o,{id:"current_stock",type:"number",value:t.current_stock,onChange:r=>a("current_stock",r.target.value)})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j,{id:"is_active",checked:t.is_active,onCheckedChange:r=>a("is_active",!!r)}),e.jsx(c,{htmlFor:"is_active",children:s("master.isActive")})]})]}),e.jsxs(O,{children:[e.jsx(d,{type:"button",variant:"outline",onClick:()=>l(!1),children:s("master.cancel")}),e.jsx(d,{type:"submit",disabled:y,children:s("products.createTitle")})]})]})]})]})})]}),e.jsx("div",{className:"hidden h-full flex-1 flex-col space-y-8 md:flex",children:e.jsx(I,{columns:P,data:v.data,onBulkDelete:C})})]})]})}export{ke as default};
