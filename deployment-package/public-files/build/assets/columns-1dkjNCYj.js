import{j as e,u as c,L as l}from"./app-De9YtYVO.js";import{B as d}from"./badge-C9h6T3rK.js";import{B as t}from"./index-sqIKGjOx.js";import{f as m}from"./format-D9s8ZFBe.js";import{D as u,a as x,b as p,d as h,c as a,e as g}from"./dropdown-menu-BBgrL1DT.js";import{A as o}from"./arrow-up-down-1q5LzOz0.js";import{u as f}from"./useTranslation-CmIvGiqX.js";import{E as j}from"./ellipsis-yQlqSxW1.js";import{f as y}from"./format-BS8Ay9AX.js";import"./Combination-Dy-FKPUP.js";const E=n=>[{accessorKey:"date",header:({column:s})=>e.jsxs(t,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),children:[n("expenses.date"),e.jsx(o,{className:"ml-2 h-4 w-4"})]}),cell:({row:s})=>{const r=new Date(s.getValue("date"));return e.jsx("div",{children:y(r,"dd/MM/yyyy")})}},{accessorKey:"reference_number",header:()=>n("expenses.reference"),cell:({row:s})=>e.jsx("div",{className:"font-mono text-xs",children:s.getValue("reference_number")||"-"})},{id:"payee_description",header:()=>"Payee / Description",cell:({row:s})=>{const r=s.original;return e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:r.supplier?r.supplier.name:n("expenses.generalExpense")}),e.jsx("div",{className:"text-sm text-muted-foreground truncate max-w-[250px]",children:r.description})]})}},{accessorKey:"category.name",header:()=>n("expenses.category"),cell:({row:s})=>e.jsx(d,{variant:"secondary",children:s.original.category.name})},{accessorKey:"amount",header:({column:s})=>e.jsx("div",{className:"text-right",children:e.jsxs(t,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),children:[n("expenses.amount"),e.jsx(o,{className:"ml-2 h-4 w-4"})]})}),cell:({row:s})=>{const r=parseFloat(s.getValue("amount"));return e.jsx("div",{className:"text-right font-medium",children:m(r)})}},{id:"actions",cell:({row:s})=>{const r=s.original;return e.jsx(w,{expense:r})}}],w=({expense:n})=>{const{delete:s}=c({}),{t:r}=f(),i=()=>{confirm(r("expenses.deleteConfirmation"))&&s(route("purchase.expenses.destroy",n.id))};return e.jsxs(u,{children:[e.jsx(x,{asChild:!0,children:e.jsxs(t,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(j,{className:"h-4 w-4"})]})}),e.jsxs(p,{align:"end",children:[e.jsx(h,{children:"Actions"}),e.jsx(a,{asChild:!0,children:e.jsx(l,{href:route("purchase.expenses.edit",n.id),children:r("common.edit")})}),e.jsx(g,{}),e.jsx(a,{onClick:i,className:"text-red-600 focus:text-red-600",children:r("common.delete")})]})]})};export{E as getColumns};
