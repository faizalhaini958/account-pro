import{r as x,u as p,j as e,H as L}from"./app-De9YtYVO.js";import{A as E,M as A}from"./AdminLayout-B9Mfz47I.js";import{C as h,a as j,b as u,d as _,c as g}from"./card-B1noy23o.js";import{c as k,B as v}from"./index-sqIKGjOx.js";import{I as n}from"./input-YJ4y34zb.js";import{L as m}from"./label-BNYjQoyA.js";import{S as f,a as S,b as N,c as y,d as r}from"./select-B2rqhBdx.js";import{A as D,b as I,a as z}from"./alert-B1Pq75Rz.js";import{S as C}from"./toaster-CljvMPLZ.js";import{L as T}from"./loader-circle-DjIWaf7f.js";import{C as H}from"./circle-alert-nT1vmDMj.js";import"./ThemeToggle-IPjgC8LT.js";import"./badge-C9h6T3rK.js";import"./shield-CJZNipff.js";import"./credit-card-wln7jJg5.js";import"./users-Cw2EaZtR.js";import"./package-DX_4eLNa.js";import"./file-text-D4ZH2B6r.js";import"./Combination-Dy-FKPUP.js";import"./dropdown-menu-BBgrL1DT.js";import"./index-CENxNQLL.js";import"./useTranslation-CmIvGiqX.js";import"./index-DEhQiHRI.js";import"./x-D7kv7_oa.js";const V=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],P=k("send",V);function pe({settings:l}){const[o,w]=x.useState(""),[q,B]=x.useState(!1),{data:i,setData:t,post:M,processing:c,errors:a,reset:G}=p({mail_driver:l.mail_driver,mail_host:l.mail_host,mail_port:l.mail_port,mail_username:l.mail_username,mail_password:l.mail_password,mail_encryption:l.mail_encryption,mail_from_address:l.mail_from_address,mail_from_name:l.mail_from_name}),d=p({test_email:""}),F=s=>{s.preventDefault(),M(route("admin.settings.smtp.update"))},b=s=>{s.preventDefault(),d.setData("test_email",o),d.post(route("admin.settings.smtp.test"),{preserveScroll:!0})};return e.jsxs(E,{header:"SMTP Settings",children:[e.jsx(L,{title:"SMTP Settings"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"SMTP / Email Settings"}),e.jsx("p",{className:"text-muted-foreground",children:"Configure email settings for system notifications"})]}),e.jsx("form",{onSubmit:F,children:e.jsxs(h,{children:[e.jsxs(j,{children:[e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5"}),"Email Configuration"]}),e.jsx(_,{children:"Set up your SMTP server to send system emails"})]}),e.jsxs(g,{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"mail_driver",children:"Mail Driver"}),e.jsxs(f,{value:i.mail_driver,onValueChange:s=>t("mail_driver",s),children:[e.jsx(S,{children:e.jsx(N,{placeholder:"Select mail driver"})}),e.jsxs(y,{children:[e.jsx(r,{value:"smtp",children:"SMTP"}),e.jsx(r,{value:"sendmail",children:"Sendmail"}),e.jsx(r,{value:"mailgun",children:"Mailgun"}),e.jsx(r,{value:"ses",children:"Amazon SES"}),e.jsx(r,{value:"postmark",children:"Postmark"}),e.jsx(r,{value:"log",children:"Log (for testing)"})]})]}),a.mail_driver&&e.jsx("p",{className:"text-sm text-destructive",children:a.mail_driver})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"mail_encryption",children:"Encryption"}),e.jsxs(f,{value:i.mail_encryption,onValueChange:s=>t("mail_encryption",s),children:[e.jsx(S,{children:e.jsx(N,{placeholder:"Select encryption"})}),e.jsxs(y,{children:[e.jsx(r,{value:"tls",children:"TLS"}),e.jsx(r,{value:"ssl",children:"SSL"}),e.jsx(r,{value:"null",children:"None"})]})]}),a.mail_encryption&&e.jsx("p",{className:"text-sm text-destructive",children:a.mail_encryption})]})]}),e.jsx(C,{}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"mail_host",children:"SMTP Host"}),e.jsx(n,{id:"mail_host",value:i.mail_host,onChange:s=>t("mail_host",s.target.value),placeholder:"smtp.example.com"}),a.mail_host&&e.jsx("p",{className:"text-sm text-destructive",children:a.mail_host})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"mail_port",children:"SMTP Port"}),e.jsx(n,{id:"mail_port",type:"number",value:i.mail_port,onChange:s=>t("mail_port",parseInt(s.target.value)),placeholder:"587"}),a.mail_port&&e.jsx("p",{className:"text-sm text-destructive",children:a.mail_port})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"mail_username",children:"SMTP Username"}),e.jsx(n,{id:"mail_username",value:i.mail_username,onChange:s=>t("mail_username",s.target.value),placeholder:"your@email.com"}),a.mail_username&&e.jsx("p",{className:"text-sm text-destructive",children:a.mail_username})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"mail_password",children:"SMTP Password"}),e.jsx(n,{id:"mail_password",type:"password",value:i.mail_password,onChange:s=>t("mail_password",s.target.value),placeholder:"••••••••"}),a.mail_password&&e.jsx("p",{className:"text-sm text-destructive",children:a.mail_password}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Leave blank to keep existing password"})]})]}),e.jsx(C,{}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"mail_from_address",children:"From Email Address"}),e.jsx(n,{id:"mail_from_address",type:"email",value:i.mail_from_address,onChange:s=>t("mail_from_address",s.target.value),placeholder:"noreply@example.com"}),a.mail_from_address&&e.jsx("p",{className:"text-sm text-destructive",children:a.mail_from_address})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"mail_from_name",children:"From Name"}),e.jsx(n,{id:"mail_from_name",value:i.mail_from_name,onChange:s=>t("mail_from_name",s.target.value),placeholder:"AccountPro"}),a.mail_from_name&&e.jsx("p",{className:"text-sm text-destructive",children:a.mail_from_name})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(v,{type:"submit",disabled:c,children:c?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save Settings"})})]})]})}),e.jsxs(h,{children:[e.jsxs(j,{children:[e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-5 w-5"}),"Test Email Configuration"]}),e.jsx(_,{children:"Send a test email to verify your SMTP settings"})]}),e.jsx(g,{children:e.jsxs("form",{onSubmit:b,className:"flex gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(n,{type:"email",value:o,onChange:s=>w(s.target.value),placeholder:"Enter email to send test",required:!0})}),e.jsx(v,{type:"submit",variant:"secondary",disabled:d.processing,children:d.processing?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"mr-2 h-4 w-4"}),"Send Test Email"]})})]})})]}),e.jsxs(D,{children:[e.jsx(H,{className:"h-4 w-4"}),e.jsx(I,{children:"Common SMTP Settings"}),e.jsx(z,{children:e.jsxs("ul",{className:"mt-2 space-y-1 text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Gmail:"})," smtp.gmail.com, Port 587, TLS (requires App Password)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Office 365:"})," smtp.office365.com, Port 587, TLS"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Mailgun:"})," smtp.mailgun.org, Port 587, TLS"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Amazon SES:"})," email-smtp.[region].amazonaws.com, Port 587, TLS"]})]})})]})]})]})}export{pe as default};
