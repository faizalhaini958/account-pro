import{r as h,u as S,j as e,H as k}from"./app-De9YtYVO.js";import{D as T}from"./DashboardLayout-DB0kk3mn.js";import{D as w}from"./data-table-D4pKVaNe.js";import{getColumns as F}from"./columns-1dkjNCYj.js";import{B as c,a as P}from"./index-sqIKGjOx.js";import{D as B,a as V,b as I,c as M,d as H,e as L,f as R}from"./dialog-B_EPHwqc.js";import{I as u}from"./input-YJ4y34zb.js";import{L as l}from"./label-BNYjQoyA.js";import{T as q}from"./textarea-BrFMof27.js";import{S as o,a as d,b as m,c as p,d as n}from"./select-B2rqhBdx.js";import{P as E,a as O,b as Q,C as A}from"./calendar-DDO4Otf0.js";import{u as G}from"./useTranslation-CmIvGiqX.js";import{P as $}from"./plus-DIUrj948.js";import{C as z}from"./calendar-DaZVa6bq.js";import{f as J}from"./format-BS8Ay9AX.js";import"./toaster-CljvMPLZ.js";import"./Combination-Dy-FKPUP.js";import"./dropdown-menu-BBgrL1DT.js";import"./index-DEhQiHRI.js";import"./x-D7kv7_oa.js";import"./file-text-D4ZH2B6r.js";import"./building-2-B8zwlaZI.js";import"./users-Cw2EaZtR.js";import"./package-DX_4eLNa.js";import"./LanguageSwitcher-JaZwuRsp.js";import"./globe-BnAvlmAt.js";import"./ThemeToggle-IPjgC8LT.js";import"./circle-alert-nT1vmDMj.js";import"./table-3xAxy9mO.js";import"./checkbox-DSt0QHsS.js";import"./index-CENxNQLL.js";import"./trash-2-Dreerc3R.js";import"./badge-C9h6T3rK.js";import"./format-D9s8ZFBe.js";import"./arrow-up-down-1q5LzOz0.js";import"./ellipsis-yQlqSxW1.js";import"./chevron-left-BEvpDX_2.js";function Pe({expenses:j,categories:f,suppliers:g,bankAccounts:_}){const[v,x]=h.useState(!1),{data:t,setData:i,post:y,processing:N,errors:r,reset:b}=S({date:new Date,expense_category_id:"",amount:"",tax_amount:0,reference_number:"",description:"",supplier_id:"0",bank_account_id:"",payment_method:"Bank Transfer"}),{t:a}=G(),C=h.useMemo(()=>F(a),[a]),D=s=>{s.preventDefault(),y(route("purchase.expenses.store"),{onSuccess:()=>{x(!1),b()}})};return e.jsxs(T,{header:a("expenses.title"),children:[e.jsx(k,{title:a("expenses.title")}),e.jsxs("div",{className:"flex-1 space-y-4 p-8 pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between space-y-2",children:[e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:a("expenses.title")}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs(B,{open:v,onOpenChange:x,children:[e.jsx(V,{asChild:!0,children:e.jsxs(c,{children:[e.jsx($,{className:"mr-2 h-4 w-4"}),a("expenses.new")]})}),e.jsxs(I,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(M,{children:[e.jsx(H,{children:a("expenses.createTitle")}),e.jsx(L,{children:a("expenses.createDesc")})]}),e.jsxs("form",{onSubmit:D,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:a("expenses.date")}),e.jsxs(E,{children:[e.jsx(O,{asChild:!0,children:e.jsxs(c,{variant:"outline",className:P("w-full pl-3 text-left font-normal",!t.date&&"text-muted-foreground"),children:[t.date?J(t.date,"PPP"):e.jsx("span",{children:a("expenses.pickDate")}),e.jsx(z,{className:"ml-auto h-4 w-4 opacity-50"})]})}),e.jsx(Q,{className:"w-auto p-0",align:"start",children:e.jsx(A,{mode:"single",selected:t.date,onSelect:s=>s&&i("date",s),initialFocus:!0})})]}),r.date&&e.jsx("p",{className:"text-sm text-red-500",children:r.date})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"description",children:a("expenses.description")}),e.jsx(q,{id:"description",value:t.description,onChange:s=>i("description",s.target.value),placeholder:"e.g. Monthly office rent"}),r.description&&e.jsx("p",{className:"text-sm text-red-500",children:r.description})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"expense_category_id",children:a("expenses.category")}),e.jsxs(o,{value:t.expense_category_id,onValueChange:s=>i("expense_category_id",s),children:[e.jsx(d,{children:e.jsx(m,{placeholder:a("expenses.selectCategory")})}),e.jsx(p,{children:f?.map(s=>e.jsx(n,{value:s.id.toString(),children:s.name},s.id))})]}),r.expense_category_id&&e.jsx("p",{className:"text-sm text-red-500",children:r.expense_category_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"supplier_id",children:a("expenses.payee")}),e.jsxs(o,{value:t.supplier_id,onValueChange:s=>i("supplier_id",s),children:[e.jsx(d,{children:e.jsx(m,{placeholder:a("expenses.selectSupplier")})}),e.jsxs(p,{children:[e.jsx(n,{value:"0",children:"None / General"}),g?.map(s=>e.jsx(n,{value:s.id.toString(),children:s.name},s.id))]})]}),r.supplier_id&&e.jsx("p",{className:"text-sm text-red-500",children:r.supplier_id})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"amount",children:a("expenses.amount")}),e.jsx(u,{type:"number",step:"0.01",id:"amount",value:t.amount,onChange:s=>i("amount",s.target.value)}),r.amount&&e.jsx("p",{className:"text-sm text-red-500",children:r.amount})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"bank_account_id",children:a("expenses.paidFrom")}),e.jsxs(o,{value:t.bank_account_id,onValueChange:s=>i("bank_account_id",s),children:[e.jsx(d,{children:e.jsx(m,{placeholder:a("expenses.selectAccount")})}),e.jsx(p,{children:_?.map(s=>e.jsxs(n,{value:s.id.toString(),children:[s.bank_name," - ",s.account_number||"Cash"]},s.id))})]}),r.bank_account_id&&e.jsx("p",{className:"text-sm text-red-500",children:r.bank_account_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"reference_number",children:a("expenses.reference")}),e.jsx(u,{id:"reference_number",value:t.reference_number,onChange:s=>i("reference_number",s.target.value)}),r.reference_number&&e.jsx("p",{className:"text-sm text-red-500",children:r.reference_number})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"payment_method",children:a("expenses.paymentMethod")}),e.jsxs(o,{value:t.payment_method,onValueChange:s=>i("payment_method",s),children:[e.jsx(d,{children:e.jsx(m,{placeholder:a("expenses.selectMethod")})}),e.jsxs(p,{children:[e.jsx(n,{value:"Bank Transfer",children:"Bank Transfer"}),e.jsx(n,{value:"Cash",children:"Cash"}),e.jsx(n,{value:"Cheque",children:"Cheque"}),e.jsx(n,{value:"Credit Card",children:"Credit Card"}),e.jsx(n,{value:"DuitNow/QR",children:"DuitNow/QR"})]})]})]})]})]}),e.jsxs(R,{children:[e.jsx(c,{type:"button",variant:"outline",onClick:()=>x(!1),children:a("common.cancel")}),e.jsx(c,{type:"submit",disabled:N,children:a("expenses.create")})]})]})]})]})})]}),e.jsx("div",{className:"hidden h-full flex-1 flex-col space-y-8 md:flex",children:e.jsx(w,{columns:C,data:j.data})})]})]})}export{Pe as default};
