import{r as l,j as e,H as b,a as v}from"./app-De9YtYVO.js";import{D as _}from"./DashboardLayout-DB0kk3mn.js";import{C as c,a as m,b as x,c as p,d as g}from"./card-B1noy23o.js";import{B as d}from"./index-sqIKGjOx.js";import{I as h}from"./input-YJ4y34zb.js";import{L as j}from"./label-BNYjQoyA.js";import{F as y}from"./file-text-D4ZH2B6r.js";import{D as C}from"./download-BXIOEe-u.js";import"./toaster-CljvMPLZ.js";import"./Combination-Dy-FKPUP.js";import"./useTranslation-CmIvGiqX.js";import"./dropdown-menu-BBgrL1DT.js";import"./index-DEhQiHRI.js";import"./x-D7kv7_oa.js";import"./dialog-B_EPHwqc.js";import"./plus-DIUrj948.js";import"./building-2-B8zwlaZI.js";import"./users-Cw2EaZtR.js";import"./package-DX_4eLNa.js";import"./LanguageSwitcher-JaZwuRsp.js";import"./globe-BnAvlmAt.js";import"./ThemeToggle-IPjgC8LT.js";import"./circle-alert-nT1vmDMj.js";function Q({report:t,filters:i}){const[r,f]=l.useState(i.start_date),[n,u]=l.useState(i.end_date),N=()=>{v.get(route("reports.profit-and-loss"),{start_date:r,end_date:n})},o=s=>{window.location.href=route("reports.profit-and-loss",{start_date:r,end_date:n,format:s})},a=s=>new Intl.NumberFormat("en-MY",{style:"currency",currency:"MYR"}).format(s);return e.jsxs(_,{header:"Profit & Loss",children:[e.jsx(b,{title:"Profit & Loss"}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs(c,{children:[e.jsx(m,{children:e.jsx(x,{children:"Filters"})}),e.jsx(p,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(j,{htmlFor:"start_date",children:"Start Date"}),e.jsx(h,{id:"start_date",type:"date",value:r,onChange:s=>f(s.target.value)})]}),e.jsxs("div",{children:[e.jsx(j,{htmlFor:"end_date",children:"End Date"}),e.jsx(h,{id:"end_date",type:"date",value:n,onChange:s=>u(s.target.value)})]}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx(d,{onClick:N,children:"Apply"}),e.jsxs(d,{variant:"outline",onClick:()=>o("pdf"),children:[e.jsx(y,{className:"mr-2 h-4 w-4"}),"PDF"]}),e.jsxs(d,{variant:"outline",onClick:()=>o("csv"),children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),"CSV"]})]})]})})]}),e.jsxs(c,{children:[e.jsxs(m,{children:[e.jsx(x,{children:"Profit & Loss Statement"}),e.jsxs(g,{children:["For the period ",t.period.start," to ",t.period.end]})]}),e.jsxs(p,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Income"}),e.jsxs("div",{className:"space-y-2",children:[t.income.accounts.map(s=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:[s.account_code," - ",s.account_name]}),e.jsx("span",{children:a(s.amount)})]},s.account_code)),e.jsxs("div",{className:"flex justify-between font-semibold pt-2 border-t",children:[e.jsx("span",{children:"Total Income"}),e.jsx("span",{className:"text-green-600",children:a(t.income.total)})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Expenses"}),e.jsxs("div",{className:"space-y-2",children:[t.expenses.accounts.map(s=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:[s.account_code," - ",s.account_name]}),e.jsx("span",{children:a(s.amount)})]},s.account_code)),e.jsxs("div",{className:"flex justify-between font-semibold pt-2 border-t",children:[e.jsx("span",{children:"Total Expenses"}),e.jsx("span",{className:"text-red-600",children:a(t.expenses.total)})]})]})]}),e.jsxs("div",{className:"flex justify-between text-xl font-bold pt-4 border-t-2",children:[e.jsx("span",{children:"Net Profit"}),e.jsx("span",{className:t.net_profit>=0?"text-green-600":"text-red-600",children:a(t.net_profit)})]})]})]})]})]})}export{Q as default};
