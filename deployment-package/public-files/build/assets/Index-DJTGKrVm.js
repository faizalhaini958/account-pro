import{u as g,j as e,H as y}from"./app-De9YtYVO.js";import{D as N}from"./DashboardLayout-DB0kk3mn.js";import{C as o,a as c,b as l,d as m,c as n,e as x}from"./card-B1noy23o.js";import{c as b,B as v}from"./index-sqIKGjOx.js";import{R as C,a as k}from"./radio-group-C1McCG4i.js";import{L as w}from"./label-BNYjQoyA.js";import{B as R}from"./badge-C9h6T3rK.js";import{C as D}from"./credit-card-wln7jJg5.js";import"./toaster-CljvMPLZ.js";import"./Combination-Dy-FKPUP.js";import"./useTranslation-CmIvGiqX.js";import"./dropdown-menu-BBgrL1DT.js";import"./input-YJ4y34zb.js";import"./index-DEhQiHRI.js";import"./x-D7kv7_oa.js";import"./dialog-B_EPHwqc.js";import"./plus-DIUrj948.js";import"./file-text-D4ZH2B6r.js";import"./building-2-B8zwlaZI.js";import"./users-Cw2EaZtR.js";import"./package-DX_4eLNa.js";import"./LanguageSwitcher-JaZwuRsp.js";import"./globe-BnAvlmAt.js";import"./ThemeToggle-IPjgC8LT.js";import"./circle-alert-nT1vmDMj.js";import"./index-CENxNQLL.js";const M=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],P=b("shield-check",M);function re({plan:p,subscription:a,gateways:r,billable_amount:t}){const{data:h,setData:u,post:j,processing:i,errors:d}=g({gateway:""}),f=s=>{s.preventDefault(),j(route("checkout.store"))};return e.jsxs(N,{header:"Checkout",children:[e.jsx(y,{title:"Checkout"}),e.jsx("div",{className:"max-w-4xl mx-auto py-8",children:e.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs(o,{children:[e.jsxs(c,{children:[e.jsx(l,{children:"Order Summary"}),e.jsx(m,{children:"Review your subscription details"})]}),e.jsxs(n,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start pb-4 border-b",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg",children:[p.name," Plan"]}),e.jsxs("p",{className:"text-muted-foreground capitalize",children:[a.billing_cycle," billing"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-xl",children:["RM ",t]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["per ",a.billing_cycle==="monthly"?"month":"year"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 font-medium",children:[e.jsx("span",{children:"Total Due Today"}),e.jsxs("span",{className:"text-xl",children:["RM ",t]})]})]}),e.jsx(x,{className:"bg-muted/50 p-6",children:e.jsxs("div",{className:"flex gap-2 text-sm text-muted-foreground",children:[e.jsx(P,{className:"h-5 w-5 text-green-600 flex-shrink-0"}),e.jsx("span",{children:"Secure payment processing. Your subscription will start immediately after payment."})]})})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs(o,{children:[e.jsxs(c,{children:[e.jsx(l,{children:"Payment Method"}),e.jsx(m,{children:"Select a payment gateway to proceed"})]}),e.jsx(n,{children:e.jsxs("form",{onSubmit:f,id:"payment-form",children:[e.jsx(C,{value:h.gateway,onValueChange:s=>u("gateway",s),className:"grid gap-4",children:r.length>0?r.map(s=>e.jsxs("div",{children:[e.jsx(k,{value:s.code,id:s.code,className:"peer sr-only"}),e.jsxs(w,{htmlFor:s.code,className:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary cursor-pointer",children:[e.jsxs("div",{className:"flex w-full items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(D,{className:"h-6 w-6"}),e.jsx("div",{className:"font-semibold",children:s.name})]}),s.is_sandbox&&e.jsx(R,{variant:"outline",className:"text-xs",children:"Test Mode"})]}),e.jsx("div",{className:"w-full text-left mt-2 text-sm text-muted-foreground",children:s.description})]})]},s.code)):e.jsx("div",{className:"text-center py-8 text-muted-foreground bg-muted/30 rounded-lg border border-dashed",children:"No payment gateways configured. Please contact support."})}),d.gateway&&e.jsx("p",{className:"text-sm font-medium text-destructive mt-2",children:d.gateway})]})}),e.jsx(x,{children:e.jsx(v,{className:"w-full",size:"lg",form:"payment-form",disabled:i||r.length===0,children:i?"Processing...":`Pay RM ${t}`})})]})})]})})]})}export{re as default};
