import{r as j,j as e,H as v,L as _,a as y}from"./app-De9YtYVO.js";import{D as f}from"./DashboardLayout-DB0kk3mn.js";import{B as d}from"./index-sqIKGjOx.js";import{C as g,a as k,b,c as S}from"./card-B1noy23o.js";import{I as i}from"./input-YJ4y34zb.js";import{L as a}from"./label-BNYjQoyA.js";import{T as N}from"./textarea-BrFMof27.js";import{S as C,a as T,b as P,c as V,d as m}from"./select-B2rqhBdx.js";import{C as p}from"./checkbox-DSt0QHsS.js";import{u as w,a as F,o as L,s as o,b as u,n,_ as A}from"./schemas-9rN0axaX.js";import{u as B}from"./useTranslation-CmIvGiqX.js";import"./toaster-CljvMPLZ.js";import"./Combination-Dy-FKPUP.js";import"./dropdown-menu-BBgrL1DT.js";import"./index-DEhQiHRI.js";import"./x-D7kv7_oa.js";import"./dialog-B_EPHwqc.js";import"./plus-DIUrj948.js";import"./file-text-D4ZH2B6r.js";import"./building-2-B8zwlaZI.js";import"./users-Cw2EaZtR.js";import"./package-DX_4eLNa.js";import"./LanguageSwitcher-JaZwuRsp.js";import"./globe-BnAvlmAt.js";import"./ThemeToggle-IPjgC8LT.js";import"./circle-alert-nT1vmDMj.js";import"./index-CENxNQLL.js";const I=L({name:o().min(1,"Name is required"),sku:o().optional().nullable(),type:A(["product","service"]),retail_price:n().min(0,"Price must be positive"),purchase_cost:n().min(0,"Cost must be positive"),description:o().optional().nullable(),track_inventory:u(),current_stock:n().min(0,"Stock cannot be negative").optional(),is_active:u(),product_category_id:o().optional()});function de({product:t,categories:$}){const{t:r}=B(),[x,l]=j.useState(!1),s=w({resolver:F(I),defaultValues:{name:t.name,product_category_id:t.product_category_id?t.product_category_id.toString():"",sku:t.sku,type:t.type,retail_price:parseFloat(t.retail_price),purchase_cost:parseFloat(t.purchase_cost),description:t.description,track_inventory:!!t.track_inventory,current_stock:parseFloat(t.current_stock||0),is_active:!!t.is_active}}),h=c=>{l(!0),y.put(route("master.products.update",t.id),c,{onFinish:()=>l(!1)})};return e.jsxs(f,{header:`${r("products.editTitle")} ${t.name}`,children:[e.jsx(v,{title:`${r("products.editTitle")} ${t.name}`}),e.jsx("div",{className:"max-w-2xl mx-auto py-6",children:e.jsxs("form",{onSubmit:s.handleSubmit(h),className:"space-y-6",children:[e.jsxs(g,{children:[e.jsx(k,{children:e.jsx(b,{children:r("products.details")})}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{children:r("products.name")}),e.jsx(i,{...s.register("name"),placeholder:r("products.namePlaceholder")}),s.formState.errors.name&&e.jsx("p",{className:"text-sm text-red-500",children:s.formState.errors.name.message})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{children:r("products.sku")}),e.jsx(i,{...s.register("sku"),placeholder:r("products.skuPlaceholder")}),s.formState.errors.sku&&e.jsx("p",{className:"text-sm text-red-500",children:s.formState.errors.sku.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{children:r("products.type")}),e.jsxs(C,{value:s.watch("type"),onValueChange:c=>s.setValue("type",c),children:[e.jsx(T,{children:e.jsx(P,{placeholder:"Select Type"})}),e.jsxs(V,{children:[e.jsx(m,{value:"product",children:r("products.type.product")}),e.jsx(m,{value:"service",children:r("products.type.service")})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{children:r("products.retailPrice")}),e.jsx(i,{type:"number",step:"0.01",...s.register("retail_price",{valueAsNumber:!0})}),s.formState.errors.retail_price&&e.jsx("p",{className:"text-sm text-red-500",children:s.formState.errors.retail_price.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{children:r("products.purchaseCost")}),e.jsx(i,{type:"number",step:"0.01",...s.register("purchase_cost",{valueAsNumber:!0})}),s.formState.errors.purchase_cost&&e.jsx("p",{className:"text-sm text-red-500",children:s.formState.errors.purchase_cost.message})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{children:r("products.description")}),e.jsx(N,{...s.register("description"),placeholder:r("products.descriptionPlaceholder")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(p,{checked:s.watch("track_inventory"),onCheckedChange:c=>s.setValue("track_inventory",!!c)}),e.jsx(a,{children:r("products.trackInventory")})]}),s.watch("track_inventory")&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{children:r("products.currentStock")}),e.jsx(i,{type:"number",step:"1",...s.register("current_stock",{valueAsNumber:!0})}),s.formState.errors.current_stock&&e.jsx("p",{className:"text-sm text-red-500",children:s.formState.errors.current_stock.message})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(p,{checked:s.watch("is_active"),onCheckedChange:c=>s.setValue("is_active",!!c)}),e.jsx(a,{children:r("master.isActive")})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(d,{variant:"outline",asChild:!0,children:e.jsx(_,{href:route("master.products.index"),children:r("master.cancel")})}),e.jsx(d,{type:"submit",disabled:x,children:r("common.saveChanges")})]})]})})]})}export{de as default};
