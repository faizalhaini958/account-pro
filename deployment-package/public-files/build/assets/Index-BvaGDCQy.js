import{r as k,u as v,j as e,H as y,L as m,a as N}from"./app-De9YtYVO.js";import{D as C}from"./DashboardLayout-DB0kk3mn.js";import{c as D,B as o}from"./index-sqIKGjOx.js";import{D as A}from"./data-table-D4pKVaNe.js";import{D as w,a as S,b as B,c as i}from"./dropdown-menu-BBgrL1DT.js";import{D as M,a as F,b as L,c as I,d as T,e as K,f as E}from"./dialog-B_EPHwqc.js";import{I as d}from"./input-YJ4y34zb.js";import{L as s}from"./label-BNYjQoyA.js";import{S as G,a as H,b as P,c as q,d as O}from"./select-B2rqhBdx.js";import{C as R}from"./checkbox-DSt0QHsS.js";import{P as V}from"./plus-DIUrj948.js";import{E as $}from"./ellipsis-yQlqSxW1.js";import{F as Y}from"./file-text-D4ZH2B6r.js";import{P as z}from"./pencil-DxiAzbLY.js";import{T as J}from"./trash-2-Dreerc3R.js";import"./toaster-CljvMPLZ.js";import"./Combination-Dy-FKPUP.js";import"./useTranslation-CmIvGiqX.js";import"./index-DEhQiHRI.js";import"./x-D7kv7_oa.js";import"./building-2-B8zwlaZI.js";import"./users-Cw2EaZtR.js";import"./package-DX_4eLNa.js";import"./LanguageSwitcher-JaZwuRsp.js";import"./globe-BnAvlmAt.js";import"./ThemeToggle-IPjgC8LT.js";import"./circle-alert-nT1vmDMj.js";import"./table-3xAxy9mO.js";import"./index-CENxNQLL.js";const Q=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]],U=D("git-compare",Q);function De({bankAccounts:u,chartOfAccounts:h}){const[x,l]=k.useState(!1),{data:n,setData:r,post:p,processing:j,errors:t,reset:g}=v({name:"",account_number:"",bank_name:"",chart_of_account_id:"",is_active:!0}),_=a=>new Intl.NumberFormat("en-MY",{style:"currency",currency:"MYR"}).format(a),b=a=>{a.preventDefault(),p(route("accounting.bank-accounts.store"),{onSuccess:()=>{l(!1),g()}})},f=[{accessorKey:"name",header:"Account Name"},{accessorKey:"bank_name",header:"Bank"},{accessorKey:"account_number",header:"Account Number"},{accessorKey:"chart_of_account",header:"GL Account",cell:({row:a})=>{const c=a.original.chart_of_account;return`${c.code} - ${c.name}`}},{accessorKey:"balance",header:"Balance",cell:({row:a})=>_(a.original.balance)},{accessorKey:"is_active",header:"Status",cell:({row:a})=>e.jsx("span",{className:`px-2 py-1 rounded text-xs ${a.original.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:a.original.is_active?"Active":"Inactive"})},{id:"actions",cell:({row:a})=>{const c=a.original;return e.jsxs(w,{children:[e.jsx(S,{asChild:!0,children:e.jsx(o,{variant:"ghost",className:"h-8 w-8 p-0",children:e.jsx($,{className:"h-4 w-4"})})}),e.jsxs(B,{align:"end",children:[e.jsx(i,{asChild:!0,children:e.jsxs(m,{href:route("accounting.bank-accounts.statement",c.id),children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),"Statement"]})}),e.jsx(i,{asChild:!0,children:e.jsxs(m,{href:route("accounting.bank-accounts.reconciliation",c.id),children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),"Reconciliation"]})}),e.jsx(i,{asChild:!0,children:e.jsxs(m,{href:route("accounting.bank-accounts.edit",c.id),children:[e.jsx(z,{className:"mr-2 h-4 w-4"}),"Edit"]})}),e.jsxs(i,{onClick:()=>{confirm("Are you sure you want to delete this bank account?")&&N.delete(route("accounting.bank-accounts.destroy",c.id))},className:"text-red-600",children:[e.jsx(J,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})}}];return e.jsxs(C,{header:"Bank Accounts",children:[e.jsx(y,{title:"Bank Accounts"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Bank Accounts"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your bank accounts"})]}),e.jsxs(M,{open:x,onOpenChange:l,children:[e.jsx(F,{asChild:!0,children:e.jsxs(o,{children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),"New Bank Account"]})}),e.jsxs(L,{className:"max-w-2xl",children:[e.jsxs(I,{children:[e.jsx(T,{children:"Create Bank Account"}),e.jsx(K,{children:"Add a new bank account to track your finances."})]}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(s,{htmlFor:"name",children:"Account Name *"}),e.jsx(d,{id:"name",value:n.name,onChange:a=>r("name",a.target.value),placeholder:"e.g., Main Operating Account",required:!0}),t.name&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:t.name})]}),e.jsxs("div",{children:[e.jsx(s,{htmlFor:"bank_name",children:"Bank Name *"}),e.jsx(d,{id:"bank_name",value:n.bank_name,onChange:a=>r("bank_name",a.target.value),placeholder:"e.g., Maybank",required:!0}),t.bank_name&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:t.bank_name})]}),e.jsxs("div",{children:[e.jsx(s,{htmlFor:"account_number",children:"Account Number *"}),e.jsx(d,{id:"account_number",value:n.account_number,onChange:a=>r("account_number",a.target.value),placeholder:"e.g., 1234567890",required:!0}),t.account_number&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:t.account_number})]}),e.jsxs("div",{children:[e.jsx(s,{htmlFor:"chart_of_account_id",children:"GL Account *"}),e.jsxs(G,{value:n.chart_of_account_id.toString(),onValueChange:a=>r("chart_of_account_id",a),children:[e.jsx(H,{children:e.jsx(P,{placeholder:"Select GL Account"})}),e.jsx(q,{children:h?.map(a=>e.jsxs(O,{value:a.id.toString(),children:[a.code," - ",a.name]},a.id))})]}),t.chart_of_account_id&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:t.chart_of_account_id})]}),e.jsxs("div",{className:"col-span-2 flex items-center space-x-2",children:[e.jsx(R,{id:"is_active",checked:n.is_active,onCheckedChange:a=>r("is_active",a)}),e.jsx(s,{htmlFor:"is_active",className:"cursor-pointer",children:"Active"})]})]}),e.jsxs(E,{children:[e.jsx(o,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),e.jsx(o,{type:"submit",disabled:j,children:"Create Bank Account"})]})]})]})]})]}),e.jsx(A,{columns:f,data:u})]})]})}export{De as default};
